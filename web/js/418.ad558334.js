"use strict";(self["webpackChunkfrontend"]=self["webpackChunkfrontend"]||[]).push([[418],{1208:(n,t,e)=>{e.d(t,{vk:()=>r,He:()=>a,Tb:()=>l,Be:()=>u});var o=e(1768);const r={cId:0,mId:0};function a(n,t){return new Promise(((e,r)=>{const a={type:"LOGIN_REQUEST",username:n,password:t};o.api.post("/mappa/login",a).then((n=>{e(n.data)})).catch((n=>{r(n)}))}))}function l(){return new Promise(((n,t)=>{o.api.get("/hc").then((t=>n(t.data))).catch((n=>{t(n)}))}))}function u(n){try{const t=atob(n),e=JSON.parse(t);if(!e.cId||!e.mId)throw new Error("Invalid context data");return{cId:e.cId,mId:e.mId}}catch(t){return console.error("ParseContent",t),r}}},418:(n,t,e)=>{e.r(t),e.d(t,{default:()=>x});var o=e(3673),r=e(2323);const a=(0,o.Uk)(" Mappa Frontend ");function l(n,t,e,l,u,i){const c=(0,o.up)("q-btn"),s=(0,o.up)("q-toolbar-title"),p=(0,o.up)("q-icon"),d=(0,o.up)("q-toolbar"),f=(0,o.up)("q-header"),m=(0,o.up)("router-view"),y=(0,o.up)("q-page-container"),h=(0,o.up)("q-layout");return(0,o.wg)(),(0,o.j4)(h,{view:"lHh Lpr lFf"},{default:(0,o.w5)((()=>[(0,o.Wm)(f,{elevated:""},{default:(0,o.w5)((()=>[(0,o.Wm)(d,null,{default:(0,o.w5)((()=>[(0,o.Wm)(c,{flat:"",dense:"",round:"",icon:"menu","aria-label":"Menu"}),(0,o.Wm)(s,null,{default:(0,o.w5)((()=>[a])),_:1}),(0,o.Wm)("div",{title:n.proxyHCTitle},"Proxy: "+(0,r.zw)(n.proxyHC),9,["title"]),(0,o.Wm)(p,{name:n.proxyIcon},null,8,["name"])])),_:1})])),_:1}),(0,o.Wm)(y,null,{default:(0,o.w5)((()=>[(0,o.Wm)(m)])),_:1})])),_:1})}var u=e(1208),i=function(n,t,e,o){function r(n){return n instanceof e?n:new e((function(t){t(n)}))}return new(e||(e=Promise))((function(e,a){function l(n){try{i(o.next(n))}catch(t){a(t)}}function u(n){try{i(o["throw"](n))}catch(t){a(t)}}function i(n){n.done?e(n.value):r(n.value).then(l,u)}i((o=o.apply(n,t||[])).next())}))};const c=(0,o.aZ)({name:"SingleLayout",components:{},data(){return{proxyHC:"...",proxyHCTitle:"",proxyIcon:"link"}},mounted(){return i(this,void 0,void 0,(function*(){console.log("Mounting single layout");try{let n=yield(0,u.Tb)();console.log("HC",n),this.proxyHCTitle=`Server: ${n.mappa_server.status}`,this.proxyHC="HEALTHY"==n.status?"OK":"Indispon√≠vel",this.proxyIcon="OK"==this.proxyHC?"link":"link_off"}catch(n){console.error("HC",n),this.proxyHCTitle=n.message,this.proxyHC="Em erro",this.proxyIcon="link_off"}console.log("Mounted single layout")}))}});var s=e(3066),p=e(3812),d=e(9570),f=e(6114),m=e(3747),y=e(4554),h=e(2652),w=e(7518),v=e.n(w);c.render=l;const x=c;v()(c,"components",{QLayout:s.Z,QHeader:p.Z,QToolbar:d.Z,QBtn:f.Z,QToolbarTitle:m.Z,QIcon:y.Z,QPageContainer:h.Z})}}]);